(this["webpackJsonpreward-store"]=this["webpackJsonpreward-store"]||[]).push([[0],{144:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s(0),i=s(38),a=s.n(i),o=(s(85),s(119),s(13)),r=s.p+"static/media/aerolab-logo.0a8fb170.svg",j=s.p+"static/media/header-x1.b6f067c6.png",l=s.p+"static/media/coin.b8bc711d.svg",d=s(156),b=s(159),u=s(157),p=s(52),O=s(23),h=s.n(O),m=function(e){var t=e.stateofpoints,s=e.setstateofpoints,i=e.points,a=e.setPoints,r=Object(n.useState)(""),j=Object(o.a)(r,2),O=j[0],m=j[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),x=g[0],N=g[1],v=Object(n.useState)([]),_=Object(o.a)(v,2),y=_[0],I=_[1],C={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};Object(n.useEffect)((function(){h.a.get("https://coding-challenge-api.aerolab.co/user/me",C).then((function(e){I(e.data),a(e.data.points)})).catch((function(e){console.error(e)}))}),[i]);var k=function(e){var c={amount:e};m("You added ".concat(e," points, now you have ").concat(e+i," points")),h.a.post("https://coding-challenge-api.aerolab.co/user/points",c,C).then((function(e){a(e.data["New Points"])})).catch((function(e){console.error(e)})),s(!t)};return Object(c.jsxs)(d.a,{onUnmount:function(){return m("")},size:"tiny",closeIcon:!0,open:x,trigger:Object(c.jsxs)("div",{className:"header_user_container",children:[Object(c.jsx)("div",{className:"header_user_name",children:y.name}),Object(c.jsxs)("div",{className:"header_user_coins",children:[i,Object(c.jsx)("div",{className:"coin_icon",children:Object(c.jsx)("img",{src:l,alt:"coin icon"})})]})]}),onClose:function(){return N(!1)},onOpen:function(){return N(!0)},children:[Object(c.jsx)(b.a,{icon:"money",content:"Add more points!"}),Object(c.jsx)(d.a.Content,{children:Object(c.jsx)("p",{children:"How many points do you want to add?"})}),Object(c.jsxs)(d.a.Actions,{className:"add_buttons",children:[Object(c.jsxs)(u.a,{onClick:function(){return k(1e3)},color:"black",children:[Object(c.jsx)(p.a,{name:"dollar sign"})," 1000"]}),Object(c.jsxs)(u.a,{onClick:function(){return k(5e3)},color:"black",children:[Object(c.jsx)(p.a,{name:"dollar sign"})," 5000"]}),Object(c.jsxs)(u.a,{onClick:function(){return k(7500)},color:"black",children:[Object(c.jsx)(p.a,{name:"dollar sign"})," 7500"]})]}),Object(c.jsx)(d.a.Content,{children:Object(c.jsx)("p",{className:"added_points",children:O})})]})},f=s(82),g=function(e){var t,s=e.points,i=Object(n.useState)(!1),a=Object(o.a)(i,2),r=a[0],j=a[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),p=u[0],O=u[1];Object(n.useEffect)((function(){h.a.get("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}}).then((function(e){O(e.data.reverse())})).catch((function(e){console.error(e)}))}),[s]);return Object(c.jsxs)(d.a,{size:"large",closeIcon:!0,open:r,trigger:Object(c.jsx)("div",{className:"header_history",children:"History"}),onClose:function(){return j(!1)},onOpen:function(){return j(!0)},children:[Object(c.jsx)(b.a,{icon:"book",content:"History"}),Object(c.jsx)(d.a.Content,(t={className:"history",scrolling:!0},Object(f.a)(t,"className","redeem"),Object(f.a)(t,"children",Object(c.jsx)("div",{className:"history_body",children:p.map((function(e){return Object(c.jsxs)("div",{className:"history_item",children:[Object(c.jsx)("img",{src:e.img.url,alt:""}),Object(c.jsxs)("div",{children:[e.cost," $"]}),Object(c.jsx)("div",{children:e.name}),Object(c.jsx)("div",{children:e.createDate.substr(0,10)}),Object(c.jsx)("div",{children:e.createDate.substr(11,8)}),Object(c.jsx)("br",{})]},e.createDate)}))})),t))]})},x=s.p+"static/media/arrow-right.3306c112.svg",N=s.p+"static/media/arrow-left.e6eb9be1.svg",v=function(e){var t=e.id,s=e.img,i=e.cost,a=e.points,r=e.setPoints,j=e.stateofpoints,u=e.setstateofpoints,p=Object(n.useState)(!1),O=Object(o.a)(p,2),m=O[0],f=O[1],g=Object(n.useState)(""),x=Object(o.a)(g,2),N=(x[0],x[1]),v={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};return Object(c.jsxs)(d.a,{size:"mini",closeIcon:!0,open:m,trigger:i<a?Object(c.jsx)("div",{className:"item_button",onClick:function(){return function(e){var t={productId:e};h.a.post("https://coding-challenge-api.aerolab.co/redeem",t,v).then((function(e){N(e.data),r(a-i)})).catch((function(e){console.error(e)})),u(!j)}(t)},children:Object(c.jsx)("img",{className:"buy_img",alt:""})}):Object(c.jsxs)("div",{className:"item_missing_money",children:["You need ",i-a,Object(c.jsx)("div",{className:"coin_icon",children:Object(c.jsx)("img",{src:l,alt:"coin icon"})})]}),onClose:function(){f(!1)},onOpen:function(){return f(!0)},children:[Object(c.jsx)(b.a,{icon:"check",content:"Congratulations!"}),Object(c.jsx)(d.a.Content,{className:"redeem",children:Object(c.jsxs)("p",{children:["You successfully redeemed ",i," points and got:"]})}),Object(c.jsx)(d.a.Content,{className:"redeem",children:Object(c.jsx)("img",{src:s,alt:"item redeemed img"})})]})};var _=function(e){var t=e.id,s=e.cost,n=e.img,i=e.category,a=e.name,o=e.stateofpoints,r=e.setstateofpoints,j=e.points,d=e.setPoints;return Object(c.jsxs)("div",{className:"item_container",children:[Object(c.jsx)(v,{stateofpoints:o,setstateofpoints:r,points:j,setPoints:d,id:t,cost:s,img:n}),Object(c.jsx)("div",{className:"item_img_container",children:Object(c.jsx)("img",{className:"item_img",src:n,alt:"imagen del producto"})}),Object(c.jsx)("hr",{className:"separator_item"}),Object(c.jsxs)("div",{className:"item_info",children:[Object(c.jsx)("div",{className:"item_category",children:i}),Object(c.jsx)("div",{className:"item_name",children:a}),Object(c.jsxs)("div",{className:"item_cost",children:[s,Object(c.jsx)("div",{children:Object(c.jsx)("img",{className:"coin",src:l,alt:""})})]})]})]})},y=function(e){var t=e.page,s=e.filter,i=e.stateofpoints,a=e.setstateofpoints,r=e.points,j=e.setPoints,l={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}},d=Object(n.useState)([]),b=Object(o.a)(d,2),u=b[0],p=b[1];Object(n.useEffect)((function(){h.a.get("https://coding-challenge-api.aerolab.co/products",l).then((function(e){p(e.data)})).catch((function(e){console.error(e)})),h.a.get("https://coding-challenge-api.aerolab.co/user/me",l).then((function(e){j(e.data.points)})).catch((function(e){console.error(e)}))}),[r]);var O=u?""===s?u:"highest"===s?u.sort((function(e,t){return t.cost-e.cost})):"lowest"===s?u.sort((function(e,t){return e.cost-t.cost})):"category"===s?u.sort((function(e,t){return e.category>t.category?1:e.category<t.category?-1:0})):[]:[],m=(O?"page1"===t?O.slice(0,16):O.slice(16,32):[]).map((function(e){return Object(c.jsx)(_,{stateofpoints:i,setstateofpoints:a,id:e._id,cost:e.cost,img:e.img.url,category:e.category,name:e.name,points:r,setPoints:j},e._id)}));return Object(c.jsx)("div",{className:"items_container",children:m})},I=function(e){var t=e.stateofpoints,s=e.setstateofpoints,n=e.page,i=e.changepage,a=e.filter,o=e.changefilter,r=e.points,j=e.setPoints;return Object(c.jsxs)("div",{className:"main_container",children:[Object(c.jsxs)("div",{className:"filters_container",children:[Object(c.jsx)("div",{className:"filters_products",children:"page1"===n?"16 of 32 products":"32 of 32 products"}),Object(c.jsx)("div",{className:"separator_products"}),Object(c.jsx)("div",{className:"filters_sort",children:"Sort by:"}),Object(c.jsx)("button",{className:"filters_sort_category",onClick:function(){return o("category")},children:"Category"}),Object(c.jsx)("button",{className:"filters_sort_lowest",onClick:function(){return o("lowest")},children:"Lowest price"}),Object(c.jsx)("button",{className:"filters_sort_highest",onClick:function(){return o("highest")},children:"Highest price"}),Object(c.jsx)("div",{className:"arrow",children:"page1"===n?Object(c.jsx)("img",{onClick:function(){return i("page2")},src:x,alt:""}):Object(c.jsx)("img",{onClick:function(){return i("page1")},src:N,alt:""})})]}),Object(c.jsx)("hr",{className:"separator_filter"}),Object(c.jsx)(y,{stateofpoints:t,setstateofpoints:s,page:n,filter:a,points:r,setPoints:j})]})},C=function(e){var t=e.stateofpoints,s=e.setstateofpoints,i=e.points,a=e.setPoints,r=Object(n.useState)("page1"),j=Object(o.a)(r,2),l=j[0],d=j[1],b=Object(n.useState)(""),u=Object(o.a)(b,2),p=u[0],O=u[1];return Object(c.jsx)(I,{stateofpoints:t,setstateofpoints:s,page:l,changepage:d,filter:p,changefilter:O,points:i,setPoints:a})},k=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),s=t[0],i=t[1],a=Object(n.useState)([]),l=Object(o.a)(a,2),d=l[0],b=l[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsxs)("div",{className:"header_info_container",children:[Object(c.jsx)("img",{src:r,alt:"aerolab-logo"}),Object(c.jsx)(m,{stateofpoints:s,setstateofpoints:i,points:d,setPoints:b}),Object(c.jsx)(g,{points:d})]}),Object(c.jsxs)("div",{className:"header_hero_container",children:[Object(c.jsx)("img",{className:"header_hero_img",src:j,alt:"hero img"}),Object(c.jsx)("div",{className:"header_hero_text",children:"Electronics"})]})]}),Object(c.jsx)(C,{stateofpoints:s,setstateofpoints:i,points:d,setPoints:b})]})},J=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(k,{})})};a.a.render(Object(c.jsx)(J,{}),document.getElementById("root"))},85:function(e,t,s){}},[[144,1,2]]]);
//# sourceMappingURL=main.68352327.chunk.js.map