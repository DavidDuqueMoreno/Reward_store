(this["webpackJsonpreward-store"]=this["webpackJsonpreward-store"]||[]).push([[0],{154:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),i=c(43),a=c.n(i),o=(c(94),c(42)),r=c(10),j=(c(129),c.p+"static/media/aerolab-logo.0a8fb170.svg"),l=c.p+"static/media/header-x1.b6f067c6.png",d=c(18),b=c.p+"static/media/coin.b8bc711d.svg",h=c(166),u=c(169),O=c(167),m=c(57),p=c(26),x=c.n(p),g=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1],a=Object(s.useState)(""),o=Object(d.a)(a,2),r=o[0],j=o[1],l=Object(s.useState)(!1),p=Object(d.a)(l,2),g=p[0],f=p[1],N=Object(s.useState)([]),_=Object(d.a)(N,2),v=_[0],I=_[1],y={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};Object(s.useEffect)((function(){x.a.get("https://coding-challenge-api.aerolab.co/user/me",y).then((function(e){I(e.data),i(e.data.points)})).catch((function(e){console.error(e)}))}),[]);var w=function(e){var t={amount:e};j("You added ".concat(e," points, now you have ").concat(e+c," points")),x.a.post("https://coding-challenge-api.aerolab.co/user/points",t,y).then((function(e){i(e.data["New Points"])})).catch((function(e){console.error(e)}))};return Object(n.jsxs)(h.a,{size:"tiny",closeIcon:!0,open:g,trigger:Object(n.jsxs)("div",{className:"header_user_container",children:[Object(n.jsx)("div",{className:"header_user_name",children:v.name}),Object(n.jsxs)("div",{className:"header_user_coins",children:[c,Object(n.jsx)("div",{className:"coin_icon",children:Object(n.jsx)("img",{src:b,alt:"coin icon"})})]})]}),onClose:function(){return f(!1)},onOpen:function(){return f(!0)},children:[Object(n.jsx)(u.a,{icon:"money",content:"Add more points!"}),Object(n.jsx)(h.a.Content,{children:Object(n.jsx)("p",{children:"How many points do you want to add?"})}),Object(n.jsxs)(h.a.Actions,{className:"add_buttons",children:[Object(n.jsxs)(O.a,{onClick:function(){return w(1e3)},color:"black",children:[Object(n.jsx)(m.a,{name:"dollar sign"})," 1000"]}),Object(n.jsxs)(O.a,{onClick:function(){return w(5e3)},color:"black",children:[Object(n.jsx)(m.a,{name:"dollar sign"})," 5000"]}),Object(n.jsxs)(O.a,{onClick:function(){return w(7500)},color:"black",children:[Object(n.jsx)(m.a,{name:"dollar sign"})," 7500"]})]}),Object(n.jsx)(h.a.Content,{children:Object(n.jsx)("p",{className:"added_points",children:r})})]})},f=c(89),N=function(e){var t,c=Object(s.useState)(!1),i=Object(d.a)(c,2),a=i[0],o=i[1],r=Object(s.useState)([]),j=Object(d.a)(r,2),l=j[0],b=j[1];Object(s.useEffect)((function(){x.a.get("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}}).then((function(e){b(e.data)})).catch((function(e){console.error(e)}))}),[]);return Object(n.jsxs)(h.a,{size:"large",closeIcon:!0,open:a,trigger:Object(n.jsx)("div",{className:"header_history",children:"History"}),onClose:function(){return o(!1)},onOpen:function(){return o(!0)},children:[Object(n.jsx)(u.a,{icon:"book",content:"History"}),Object(n.jsx)(h.a.Content,(t={className:"history",scrolling:!0},Object(f.a)(t,"className","redeem"),Object(f.a)(t,"children",Object(n.jsx)("div",{className:"history_body",children:l.map((function(e){return Object(n.jsxs)("div",{className:"history_item",children:[Object(n.jsx)("img",{src:e.img.url,alt:""}),Object(n.jsxs)("div",{children:[e.cost," $"]}),Object(n.jsx)("div",{children:e.name}),Object(n.jsx)("div",{children:e.createDate.substr(0,10)}),Object(n.jsx)("div",{children:e.createDate.substr(11,8)}),Object(n.jsx)("br",{})]})}))})),t))]})},_=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"header_info_container",children:[Object(n.jsx)("img",{src:j,alt:"aerolab-logo"}),Object(n.jsx)(g,{}),Object(n.jsx)(N,{})]}),Object(n.jsxs)("div",{className:"header_hero_container",children:[Object(n.jsx)("img",{className:"header_hero_img",src:l,alt:"hero img"}),Object(n.jsx)("div",{className:"header_hero_text",children:"Electronics"})]})]})},v=c.p+"static/media/arrow-right.3306c112.svg",I=c.p+"static/media/arrow-left.e6eb9be1.svg",y=function(e){var t=Object(s.useState)(!1),c=Object(d.a)(t,2),i=c[0],a=c[1],o=Object(s.useState)(""),r=Object(d.a)(o,2),j=(r[0],r[1]);return Object(n.jsxs)(h.a,{onMount:function(){return function(e){var t={productId:e};x.a.post("https://coding-challenge-api.aerolab.co/redeem",t,{headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}}).then((function(e){j(e.data)})).catch((function(e){console.error(e)}))}(e.id)},onUnmount:function(){return window.location.reload()},size:"mini",closeIcon:!0,open:i,trigger:Object(n.jsx)("div",{className:"item_button",children:Object(n.jsx)("img",{className:"buy_img",alt:""})}),onClose:function(){return a(!1)},onOpen:function(){return a(!0)},children:[Object(n.jsx)(u.a,{icon:"check",content:"Congratulations!"}),Object(n.jsx)(h.a.Content,{className:"redeem",children:Object(n.jsxs)("p",{children:["You successfully redeemed ",e.cost," points and got:"]})}),Object(n.jsx)(h.a.Content,{className:"redeem",children:Object(n.jsx)("img",{src:e.img,alt:"item redeemed img"})})]})},w=function(){var e={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}},t=Object(s.useState)([]),c=Object(d.a)(t,2),i=c[0],a=c[1],r=Object(s.useState)([]),j=Object(d.a)(r,2),l=j[0],h=j[1];Object(s.useEffect)((function(){x.a.get("https://coding-challenge-api.aerolab.co/products",e).then((function(e){a(e.data)})).catch((function(e){console.error(e)})),x.a.get("https://coding-challenge-api.aerolab.co/user/me",e).then((function(e){h(e.data)})).catch((function(e){console.error(e)}))}),[]),i.length>16&&("/"===window.location.pathname&&a(i.slice(0,16)),"/2"===window.location.pathname&&a(i.slice(16,32)));var u=function(){return"/"===window.location.pathname?Object(n.jsx)(o.b,{to:"/2",children:Object(n.jsx)("img",{src:v,alt:""})}):"/2"===window.location.pathname?Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("img",{src:I,alt:""})}):void 0},O=function(e){return Object(n.jsxs)("div",{className:"item_missing_money",children:["You need ",e.cost-l.points,Object(n.jsx)("div",{className:"coin_icon",children:Object(n.jsx)("img",{src:b,alt:"coin icon"})})]})};return Object(n.jsxs)("div",{className:"main_container",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"filters_container",children:[Object(n.jsx)("div",{className:"filters_products",children:"/"===window.location.pathname?"16 of 32 products":"32 of 32 products"}),Object(n.jsx)("div",{className:"separator_products"}),Object(n.jsx)("div",{className:"filters_sort",children:"Sort by:"}),Object(n.jsx)(o.b,{to:window.location.pathname,children:Object(n.jsx)("button",{className:"filters_sort_category",onClick:function(){return function(){var e={Audio:1,Cameras:2,Drones:3,Gaming:4,Laptops:5,"Monitors & TV":6,"PC Accesories":7,"PC Accessories":8,"Phone Accessories":9,Phones:10,"Smart Home":11,"Tablets & E-readers":12};a(i.sort((function(t,c){return e[t.category]-e[c.category]})))}()},children:"Category"})}),Object(n.jsx)(o.b,{to:window.location.pathname,children:Object(n.jsx)("button",{className:"filters_sort_lowest",onClick:function(){a(i.sort((function(e,t){return e.cost-t.cost})))},children:"Lowest price"})}),Object(n.jsx)(o.b,{to:window.location.pathname,children:Object(n.jsx)("button",{className:"filters_sort_highest",onClick:function(){a(i.sort((function(e,t){return t.cost-e.cost})))},children:"Highest price"})}),Object(n.jsx)("div",{className:"arrow",children:Object(n.jsx)(u,{})})]}),Object(n.jsx)("hr",{className:"separator_filter"})]})}),Object(n.jsx)("div",{className:"items_container",children:i.map((function(e){return Object(n.jsxs)("div",{className:"item_container",children:[l.points<e.cost?Object(n.jsx)(O,{cost:e.cost}):Object(n.jsx)(y,{id:e._id,cost:e.cost,img:e.img.url}),Object(n.jsx)("div",{className:"item_img_container",children:Object(n.jsx)("img",{className:"item_img",src:e.img.url,alt:"imagen del producto"})}),Object(n.jsx)("hr",{className:"separator_item"}),Object(n.jsxs)("div",{className:"item_info",children:[Object(n.jsx)("div",{className:"item_category",children:e.category}),Object(n.jsx)("div",{className:"item_name",children:e.name})]})]},e._id)}))})]})},C=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(r.a,{exact:!0,path:"/",component:_}),Object(n.jsx)(r.a,{exact:!0,path:"/2",component:_}),Object(n.jsx)(r.a,{exact:!0,path:"/",component:w}),Object(n.jsx)(r.a,{exact:!0,path:"/2",component:w})]})})};a.a.render(Object(n.jsx)(C,{}),document.getElementById("root"))},94:function(e,t,c){}},[[154,1,2]]]);
//# sourceMappingURL=main.7ad7aa81.chunk.js.map