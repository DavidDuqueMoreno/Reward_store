(this["webpackJsonpreward-store"]=this["webpackJsonpreward-store"]||[]).push([[0],{144:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(0),a=c(38),i=c.n(a),o=(c(85),c(119),c(10)),r=c.p+"static/media/aerolab-logo.0a8fb170.svg",l=c.p+"static/media/header-x1.b6f067c6.png",j=c.p+"static/media/coin.b8bc711d.svg",d=c(156),b=c(159),u=c(157),O=c(52),h=c(21),p=c.n(h),m=function(e){var t=e.stateofpoints,c=e.setstateofpoints,a=Object(n.useState)([]),i=Object(o.a)(a,2),r=i[0],l=i[1],h=Object(n.useState)(""),m=Object(o.a)(h,2),f=m[0],g=m[1],x=Object(n.useState)(!1),N=Object(o.a)(x,2),v=N[0],_=N[1],y=Object(n.useState)([]),I=Object(o.a)(y,2),C=I[0],k=I[1],J={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};Object(n.useEffect)((function(){p.a.get("https://coding-challenge-api.aerolab.co/user/me",J).then((function(e){k(e.data),l(e.data.points)})).catch((function(e){console.error(e)}))}),[t]);var w=function(e){var s={amount:e};g("You added ".concat(e," points, now you have ").concat(e+r," points")),p.a.post("https://coding-challenge-api.aerolab.co/user/points",s,J).then((function(e){l(e.data["New Points"])})).catch((function(e){console.error(e)})),c(!t)};return Object(s.jsxs)(d.a,{onUnmount:function(){return g("")},size:"tiny",closeIcon:!0,open:v,trigger:Object(s.jsxs)("div",{className:"header_user_container",children:[Object(s.jsx)("div",{className:"header_user_name",children:C.name}),Object(s.jsxs)("div",{className:"header_user_coins",children:[r,Object(s.jsx)("div",{className:"coin_icon",children:Object(s.jsx)("img",{src:j,alt:"coin icon"})})]})]}),onClose:function(){return _(!1)},onOpen:function(){return _(!0)},children:[Object(s.jsx)(b.a,{icon:"money",content:"Add more points!"}),Object(s.jsx)(d.a.Content,{children:Object(s.jsx)("p",{children:"How many points do you want to add?"})}),Object(s.jsxs)(d.a.Actions,{className:"add_buttons",children:[Object(s.jsxs)(u.a,{onClick:function(){return w(1e3)},color:"black",children:[Object(s.jsx)(O.a,{name:"dollar sign"})," 1000"]}),Object(s.jsxs)(u.a,{onClick:function(){return w(5e3)},color:"black",children:[Object(s.jsx)(O.a,{name:"dollar sign"})," 5000"]}),Object(s.jsxs)(u.a,{onClick:function(){return w(7500)},color:"black",children:[Object(s.jsx)(O.a,{name:"dollar sign"})," 7500"]})]}),Object(s.jsx)(d.a.Content,{children:Object(s.jsx)("p",{className:"added_points",children:f})})]})},f=c(82),g=function(e){var t,c=Object(n.useState)(!1),a=Object(o.a)(c,2),i=a[0],r=a[1],l=Object(n.useState)([]),j=Object(o.a)(l,2),u=j[0],O=j[1];Object(n.useEffect)((function(){p.a.get("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}}).then((function(e){O(e.data.reverse())})).catch((function(e){console.error(e)}))}),[]);return Object(s.jsxs)(d.a,{size:"large",closeIcon:!0,open:i,trigger:Object(s.jsx)("div",{className:"header_history",children:"History"}),onClose:function(){return r(!1)},onOpen:function(){return r(!0)},children:[Object(s.jsx)(b.a,{icon:"book",content:"History"}),Object(s.jsx)(d.a.Content,(t={className:"history",scrolling:!0},Object(f.a)(t,"className","redeem"),Object(f.a)(t,"children",Object(s.jsx)("div",{className:"history_body",children:u.map((function(e){return Object(s.jsxs)("div",{className:"history_item",children:[Object(s.jsx)("img",{src:e.img.url,alt:""}),Object(s.jsxs)("div",{children:[e.cost," $"]}),Object(s.jsx)("div",{children:e.name}),Object(s.jsx)("div",{children:e.createDate.substr(0,10)}),Object(s.jsx)("div",{children:e.createDate.substr(11,8)}),Object(s.jsx)("br",{})]},e.createDate)}))})),t))]})},x=c.p+"static/media/arrow-right.3306c112.svg",N=c.p+"static/media/arrow-left.e6eb9be1.svg",v=function(e){var t=e.id,c=e.img,a=e.cost,i=e.points,r=e.stateofpoints,l=e.setstateofpoints,u=Object(n.useState)(!1),O=Object(o.a)(u,2),h=O[0],m=O[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),x=(g[0],g[1]),N=Object(n.useState)([]),v=Object(o.a)(N,2),_=v[0],y=v[1],I={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}};Object(n.useEffect)((function(){p.a.get("https://coding-challenge-api.aerolab.co/user/me",I).then((function(e){y(e.data.points)})).catch((function(e){console.error(e)}))}),[_]);return Object(s.jsxs)(d.a,{size:"mini",closeIcon:!0,open:h,trigger:a<i?Object(s.jsx)("div",{className:"item_button",onClick:function(){return function(e){var t={productId:e};p.a.post("https://coding-challenge-api.aerolab.co/redeem",t,I).then((function(e){x(e.data)})).catch((function(e){console.error(e)})),l(!r)}(t)},children:Object(s.jsx)("img",{className:"buy_img",alt:""})}):Object(s.jsxs)("div",{className:"item_missing_money",children:["You need ",a-i,Object(s.jsx)("div",{className:"coin_icon",children:Object(s.jsx)("img",{src:j,alt:"coin icon"})})]}),onClose:function(){return m(!1),void window.location.reload()},onOpen:function(){return m(!0)},children:[Object(s.jsx)(b.a,{icon:"check",content:"Congratulations!"}),Object(s.jsx)(d.a.Content,{className:"redeem",children:Object(s.jsxs)("p",{children:["You successfully redeemed ",a," points and got:"]})}),Object(s.jsx)(d.a.Content,{className:"redeem",children:Object(s.jsx)("img",{src:c,alt:"item redeemed img"})})]})};var _=function(e){var t=e.id,c=e.points,n=e.cost,a=e.img,i=e.category,o=e.name,r=e.stateofpoints,l=e.setstateofpoints;return Object(s.jsxs)("div",{className:"item_container",children:[Object(s.jsx)(v,{stateofpoints:r,setstateofpoints:l,points:c,id:t,cost:n,img:a}),Object(s.jsx)("div",{className:"item_img_container",children:Object(s.jsx)("img",{className:"item_img",src:a,alt:"imagen del producto"})}),Object(s.jsx)("hr",{className:"separator_item"}),Object(s.jsxs)("div",{className:"item_info",children:[Object(s.jsx)("div",{className:"item_category",children:i}),Object(s.jsx)("div",{className:"item_name",children:o}),Object(s.jsxs)("div",{className:"item_cost",children:[n,Object(s.jsx)("div",{children:Object(s.jsx)("img",{className:"coin",src:j,alt:""})})]})]})]})},y=function(e){var t=e.page,c=e.filter,a=e.stateofpoints,i=e.setstateofpoints,r={headers:{"Content-type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDAwZDllMzliNjk4OTAwMTlmNGI3NTMiLCJpYXQiOjE2MTA2Njg1MTV9.DJIRAx-_7ynGRqnK2GVur1VKCpj7i-kLB43IbuN-7g0"}},l=Object(n.useState)([]),j=Object(o.a)(l,2),d=j[0],b=j[1],u=Object(n.useState)(0),O=Object(o.a)(u,2),h=O[0],m=O[1];Object(n.useEffect)((function(){p.a.get("https://coding-challenge-api.aerolab.co/products",r).then((function(e){b(e.data)})).catch((function(e){console.error(e)})),p.a.get("https://coding-challenge-api.aerolab.co/user/me",r).then((function(e){m(e.data.points)})).catch((function(e){console.error(e)}))}),[a]);var f=d?""===c?d:"highest"===c?d.sort((function(e,t){return t.cost-e.cost})):"lowest"===c?d.sort((function(e,t){return e.cost-t.cost})):"category"===c?d.sort((function(e,t){return e.category>t.category?1:e.category<t.category?-1:0})):[]:[],g=(f?"page1"===t?f.slice(0,16):f.slice(16,32):[]).map((function(e){return Object(s.jsx)(_,{stateofpoints:a,setstateofpoints:i,id:e._id,points:h,cost:e.cost,img:e.img.url,category:e.category,name:e.name},e._id)}));return Object(s.jsx)("div",{className:"items_container",children:g})},I=function(e){var t=e.stateofpoints,c=e.setstateofpoints,n=e.page,a=e.changepage,i=e.filter,o=e.changefilter;return Object(s.jsxs)("div",{className:"main_container",children:[Object(s.jsxs)("div",{className:"filters_container",children:[Object(s.jsx)("div",{className:"filters_products",children:"page1"===n?"16 of 32 products":"32 of 32 products"}),Object(s.jsx)("div",{className:"separator_products"}),Object(s.jsx)("div",{className:"filters_sort",children:"Sort by:"}),Object(s.jsx)("button",{className:"filters_sort_category",onClick:function(){return o("category")},children:"Category"}),Object(s.jsx)("button",{className:"filters_sort_lowest",onClick:function(){return o("lowest")},children:"Lowest price"}),Object(s.jsx)("button",{className:"filters_sort_highest",onClick:function(){return o("highest")},children:"Highest price"}),Object(s.jsx)("div",{className:"arrow",children:"page1"===n?Object(s.jsx)("img",{onClick:function(){return a("page2")},src:x,alt:""}):Object(s.jsx)("img",{onClick:function(){return a("page1")},src:N,alt:""})})]}),Object(s.jsx)("hr",{className:"separator_filter"}),Object(s.jsx)(y,{stateofpoints:t,setstateofpoints:c,page:n,filter:i})]})},C=function(e){var t=e.stateofpoints,c=e.setstateofpoints,a=Object(n.useState)("page1"),i=Object(o.a)(a,2),r=i[0],l=i[1],j=Object(n.useState)(""),d=Object(o.a)(j,2),b=d[0],u=d[1];return Object(s.jsx)(I,{stateofpoints:t,setstateofpoints:c,page:r,changepage:l,filter:b,changefilter:u})},k=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1];return console.log(c),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"header",children:[Object(s.jsxs)("div",{className:"header_info_container",children:[Object(s.jsx)("img",{src:r,alt:"aerolab-logo"}),Object(s.jsx)(m,{stateofpoints:c,setstateofpoints:a}),Object(s.jsx)(g,{})]}),Object(s.jsxs)("div",{className:"header_hero_container",children:[Object(s.jsx)("img",{className:"header_hero_img",src:l,alt:"hero img"}),Object(s.jsx)("div",{className:"header_hero_text",children:"Electronics"})]})]}),Object(s.jsx)(C,{stateofpoints:c,setstateofpoints:a})]})},J=function(){return Object(s.jsx)("div",{children:Object(s.jsx)(k,{})})};i.a.render(Object(s.jsx)(J,{}),document.getElementById("root"))},85:function(e,t,c){}},[[144,1,2]]]);
//# sourceMappingURL=main.03f9a080.chunk.js.map